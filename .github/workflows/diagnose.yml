name: ğŸ” Test FTP Connection

on:
  workflow_dispatch:

jobs:
  test-ftp:
    name: Test FTP
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ”Œ Test FTP Connection
      run: |
        echo "Testing FTP connection to: ${{ secrets.FTP_HOST }}"
        echo "Username: ${{ secrets.FTP_USER }}"

        # Install lftp
        sudo apt-get update
        sudo apt-get install -y lftp

        # Test connection
        lftp -e "set ftp:ssl-allow no; open -u ${{ secrets.FTP_USER }},${{ secrets.FTP_PASSWORD }} ${{ secrets.FTP_HOST }}; ls; bye" || {
          echo "âŒ FTP connection failed"
          exit 1
        }

        echo "âœ… FTP connection successful!"
